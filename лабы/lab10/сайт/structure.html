<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Симулятор установки</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
      crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
      type="text/css" />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link rel="shortcut icon" href="TemplateData/favicon.ico" />
    <link rel="stylesheet" href="TemplateData/style.css" />
    <script src="./js/create.js"></script>
    <script src="./js/lab2_HTML5 Canvas.js"></script>
    <script>
      var canvas,
        stage,
        exportRoot,
        anim_container,
        dom_overlay_container,
        fnStartAnimation;
      function init() {
        canvas = document.getElementById("canvas");
        anim_container = document.getElementById("animation_container");
        dom_overlay_container = document.getElementById(
          "dom_overlay_container"
        );
        var comp = AdobeAn.getComposition("EB038ABA80CB7C4087CF72216A45BD3C");
        var lib = comp.getLibrary();
        var loader = new createjs.LoadQueue(false);
        loader.installPlugin(createjs.Sound);
        loader.addEventListener("fileload", function (evt) {
          handleFileLoad(evt, comp);
        });
        loader.addEventListener("complete", function (evt) {
          handleComplete(evt, comp);
        });
        var lib = comp.getLibrary();
        loader.loadManifest(lib.properties.manifest);
      }
      function handleFileLoad(evt, comp) {
        var images = comp.getImages();
        if (evt && evt.item.type == "image") {
          images[evt.item.id] = evt.result;
        }
      }
      function handleComplete(evt, comp) {
        //This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
        var lib = comp.getLibrary();
        var ss = comp.getSpriteSheet();
        var queue = evt.target;
        var ssMetadata = lib.ssMetadata;
        for (i = 0; i < ssMetadata.length; i++) {
          ss[ssMetadata[i].name] = new createjs.SpriteSheet({
            images: [queue.getResult(ssMetadata[i].name)],
            frames: ssMetadata[i].frames,
          });
        }
        exportRoot = new lib.lab2_HTML5Canvas();
        stage = new lib.Stage(canvas);
        stage.enableMouseOver();
        //Registers the "tick" event listener.
        fnStartAnimation = function () {
          stage.addChild(exportRoot);
          createjs.Ticker.framerate = lib.properties.fps;
          createjs.Ticker.addEventListener("tick", stage);
        };
        //Code to support hidpi screens and responsive scaling.
        AdobeAn.makeResponsive(false, "both", false, 1, [
          canvas,
          dom_overlay_container,
        ]);
        AdobeAn.compositionLoaded(lib.properties.id);
        fnStartAnimation();
      }
      function playSound(id, loop, offset) {
        return createjs.Sound.play(id, {
          interrupt: createjs.Sound.INTERRUPT_EARLY,
          loop: loop,
          offset: offset,
        });
      }
    </script>
  </head>
  <body onload="init();" id="page-top">
    <!-- Navigation-->
    <nav
      class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
      id="mainNav">
      <div class="container">
        <a class="navbar-brand" href="./index.html">Симулятор установки</a>
        <button
          class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation">
          Меню
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded" href="./theory.html"
                >Теория</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a
                class="nav-link py-3 px-0 px-lg-3 rounded"
                href="./simulator.html"
                >Симулятор</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a
                class="nav-link py-3 px-0 px-lg-3 rounded"
                href="./structure.html"
                >Структура</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded" href="./about.html"
                >Об авторе</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead-->
    <header class="w-100 h-100 bg-primary text-white text-center">
      <div
        style="min-height: 100vh"
        class="container w-100 h-100 d-flex align-items-center justify-content-center flex-column">
        <!-- Masthead Subheading-->
        <p class="fs-1 py-5 font-weight-light mb-0">Структура установки</p>
        <a href="#simulator" class="link-primary fs-5 text-white border-1"
          >Перейти</a
        >
      </div>
    </header>
    <section class="page-section portfolio" id="simulator">
      <div class="container">
        <!-- Portfolio Section Heading-->
        <h2 class="text-center p-2">Основные элементы</h2>
        <!-- Portfolio Grid Items-->
        <div class="row justify-content-center">
          <!-- Portfolio Item 1-->
          <div class="col-md-6 col-lg-4 mb-5">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal1">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Амперметр</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/amper.jpg"
                alt="..." />
            </div>
          </div>
          <!-- Portfolio Item 2-->
          <div class="col-md-6 col-lg-4 mb-5">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal2">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Главная установка</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/main.jpg"
                alt="..." />
            </div>
          </div>
          <!-- Portfolio Item 3-->
          <div class="col-md-6 col-lg-4 mb-5">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal3">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Выбор диода</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/diod.png"
                alt="..." />
            </div>
          </div>
          <!-- Portfolio Item 4-->
          <div class="col-md-6 col-lg-4 mb-5 mb-lg-0">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal4">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Переключатель P1</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/P1.png"
                alt="..." />
            </div>
          </div>
          <!-- Portfolio Item 5-->
          <div class="col-md-6 col-lg-4 mb-5 mb-md-0">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal5">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Тумблер питания</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/power.png"
                alt="..." />
            </div>
          </div>
          <!-- Portfolio Item 6-->
          <div class="col-md-6 col-lg-4">
            <div
              class="portfolio-item mx-auto"
              data-bs-toggle="modal"
              data-bs-target="#portfolioModal6">
              <div
                class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div
                  class="portfolio-item-caption-content text-center text-white">
                  <span>Резисторы</span>
                </div>
              </div>
              <img
                class="img-fluid"
                src="assets/simulator_images/R12.png"
                alt="..." />
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="container px-0 py-3">
      <h2 class="py-1 text-center font-weight-light">Карта установки</h2>
      <div
        class="container"
        id="animation_container"
        style="background-color: rgba(255, 255, 255, 1); height: auto">
        <canvas
          class="container"
          id="canvas"
          style="
            width: max-content !important;
            height: max-content !important;
            max-height: calc(100vw / 2);
            position: static;
            max-width: 100% !important;
            padding: 0;
            display: block;
            background-color: rgba(255, 255, 255, 1);
          "></canvas>
        <div
          id="dom_overlay_container"
          style="
            pointer-events: none;
            overflow: hidden;
            max-width: 100%;
            position: absolute;
            left: 0px;
            top: 0px;
            display: block;
          "></div>
      </div>
    </section>
    <section class="container py-3">
      <h2 class="py-1 text-center font-weight-light">Анимационный ролик</h2>
      <video
        class="container"
        controls
        src="./assets/videos/Последовательность 01.mp4"></video>
    </section>
    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
      <div class="container">
        <small>Skalkovich Stanislaw &copy; BSTU 2023</small>
      </div>
    </div>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
  </body>
</html>
